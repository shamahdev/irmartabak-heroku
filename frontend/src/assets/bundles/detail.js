(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{58:function(a,t,i){"use strict";i.r(t);var s={name:"Detail",data:function(){return{giverating:{ip:"",score:null,user:null,rating:null},martabakdata:[],ratingmartabak:[],ratinguser:[],errored:!1,loading:!0,currentM:null,slug:this.$route.params.name,ratingdata:[],checked:null}},components:{modal:function(){return i.e(4).then(i.bind(null,69))},menuslider:function(){return i.e(3).then(i.bind(null,77))}},created:function(){this.getData()},computed:{already_rate:function(){return this.giverating.ip==this.ratingip?this.checked=!0:this.checked=!1,this.checked}},methods:{getData:function(){var t=this;this.$axios.get("https://api.ipify.org/?format=json").then(function(a){t.giverating.ip=a.data.ip}),this.$axios.get("/api/martabak/").then(function(a){t.martabakdata=a.data.filter(function(a){return a.slug.includes(t.slug)})}),this.$axios.get("/api/rating/").then(function(a){t.ratingmartabak=a.data}),this.slug=this.$route.params.name,this.$axios.get("/api/userrating/").then(function(a){t.ratinguser=a.data}).catch(function(a){console.log(a),t.errored=!0}).finally(function(){t.giverating.ip==t.ratingip?t.checked=!0:t.checked=!1,t.loading=!1})},rate:function(){this.$axios.post("/api/userrating/",this.giverating).then(function(a){}).catch(function(a){console.log(a.response)}),location.reload()}},watch:{$route:function(){this.getData(),this.ratingip=""}}},e=i(3),n=Object(e.a)(s,function(){var i=this,a=i.$createElement,s=i._self._c||a;return s("div",{staticClass:"detail"},[s("section",{directives:[{name:"show",rawName:"v-show",value:i.loading,expression:"loading"}]},[i._m(0),i._v(" "),i._m(1)]),i._v(" "),s("vue-page-transition",{attrs:{name:"fade-in-up"}},i._l(i.martabakdata,function(a){return s("section",{key:a.id,attrs:{id:"detailmartabak"}},[s("div",{staticClass:"container-fluid row p-0 m-0 mb-5"},[s("img",{staticClass:"thumbnail fit-cover",attrs:{src:a.image,alt:a.name}})]),i._v(" "),s("div",{staticClass:"container-fluid row p-0 m-0 my-5"},i._l(i.ratingmartabak,function(t){return s("div",{key:t.average,staticClass:"col-10 col-md-8 mx-auto my-auto p-0"},[t.object_id==a.id?s("div",{attrs:{cm:i.currentM=a.id}},[i._l(i.ratinguser,function(a){return s("div",{key:a.id},[a.rating==t.id?s("div",[s("div",{attrs:{rip:i.ratingip=a.ip}}),i._v(" "),s("div",{attrs:{ur:i.userrating=a.score}}),i._v(" "),i.giverating.ip==a.ip?s("div",[s("div",{attrs:{ur:i.userrating=a.score}}),i._v(" "),s("div",{attrs:{rip:i.ratingip=a.ip}})]):i._e()]):i._e()])}),i._v(" "),s("div",{attrs:{rid:i.giverating.rating=t.id}},[s("p",{staticClass:"display-5 mt-5 mb-0"},[i._v(i._s(a.name))]),i._v(" "),s("star-rating",{staticClass:"my-3",attrs:{rating:parseFloat(t.average),"read-only":!0,increment:.1,"star-size":32}}),i._v(" "),s("div",{staticClass:"h2 my-3"},[s("p",{staticClass:"inline-block text-dark mr-3"},[i._v(i._s("Rp. "+a.price))])]),i._v(" "),s("div",[s("button",{staticClass:"btn btn-primary btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#buymethod"}},[i._v("\n            Pesan Sekarang\n          ")]),null!==i.already_rate?s("button",{staticClass:"btn btn-dark btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#startrating"}},[i._v("\n            Berikan Rating\n          ")]):i._e()]),i._v(" "),s("modal",{attrs:{id:"startrating",title:"Berikan Rating"}},[i.already_rate?i._e():s("div",{staticClass:"row p-2 m-0 mb-3"},[s("star-rating",{attrs:{increment:.5,"star-size":46,"text-class":"custom-text"},on:{"rating-selected":function(a){return i.rate()}},model:{value:i.giverating.score,callback:function(a){i.$set(i.giverating,"score",a)},expression:"giverating.score"}})],1),i._v(" "),i.already_rate?s("div",{staticClass:"row p-2 m-0"},[s("star-rating",{attrs:{rating:i.userrating,"read-only":!0,increment:.5,"star-size":46}})],1):i._e(),i._v(" "),i.already_rate?s("div",{staticClass:"p-2 mt-2 mb-3"},[i._v("Kamu telah memberikan rating "+i._s(i.userrating+" untuk "+a.name))]):i._e()]),i._v(" "),s("modal",{attrs:{id:"buymethod",title:"Pilih Layanan Pemesanan"}},[s("div",{staticClass:"row m-0"},[s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead2 mb-4"},[i._v("\n                    Pilih cabang yang paling dekat dengan lokasi kamu saat ini! "),s("a",{staticClass:"text-warning",attrs:{href:"https://www.google.com/maps/search/Insinyur+Martabak"}},[i._v("Tidak tau dimana? klik disini!")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead3"},[i._v("Kiaracondong")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:""}},[i._v("GoFood")]),s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:"https://food.grab.com/id/id/restaurant/insinyur-martabak-ir-martabak-babakan-sari-delivery/IDGFSTI000013nr"}},[i._v("GrabFood")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead3 mt-3"},[i._v("Cibaduyut")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:""}},[i._v("GoFood")]),s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:""}},[i._v("GrabFood")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead3 mt-3"},[i._v("Cijerah")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:"https://gofood.co.id/bahasa/bandung/restaurant/insinyur-martabak-ir-martabak-cijerah-01b2ca13-eecb-4c5a-8835-207ba3e8e59f"}},[i._v("GoFood")]),s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:""}},[i._v("GrabFood")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto mb-4"},[s("p",{staticClass:"lead3 mt-3"},[i._v("Tubagus Ismail Raya (GrabFood Only)")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:"https://food.grab.com/id/id/restaurant/%F0%9F%8C%A1%EF%B8%8F%F0%9F%9B%A1%EF%B8%8Finsinyur-martabak-tubagus-ismail-grabkitchen-delivery/6-CYVFLE3CJETYNE"}},[i._v("GrabFood")])])])])])],1),i._v(" "),t.object_id==a.id?s("div",{staticClass:"my-5 px-0 py-4 px-md-4"},[s("label",{staticClass:"lead3"},[i._v("Nama")]),i._v(" "),s("p",[i._v(i._s(a.name))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Harga")]),i._v(" "),s("p",[i._v(i._s("Rp "+a.price))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Rating")]),i._v(" "),s("p",[i._v(i._s(parseFloat(t.average)+"/5"))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Ukuran Tersedia")]),i._v(" "),s("p",[i._v(i._s(a.Size))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Deskripsi")]),i._v(" "),s("p",[i._v(i._s(a.deskripsi))])]):i._e()],2):i._e()])}),0)])}),0),i._v(" "),s("menuslider",{staticClass:"py-3 py-md-5",attrs:{currentMartabak:i.currentM}})],1)},[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"container-fluid row p-0 m-0 mb-5"},[t("div",{staticClass:"skeleton-thumbnail"})])},function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"container-fluid row p-0 m-0 my-5"},[i("div",{staticClass:"col-10 col-md-8 mx-auto my-auto p-0"},[i("p",{staticClass:"display-5 mt-5 mb-0 skeleton-txt"},[a._v("Martabak Super")]),a._v(" "),i("div",{staticClass:"h2 my-3"},[i("p",{staticClass:"inline-block mr-3 skeleton-txt"},[a._v("Rp. 30000")])]),a._v(" "),i("div",[i("button",{staticClass:"btn btn-skeleton btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#buymethod"}},[a._v("\n          Pesan Sekarang\n        ")]),i("button",{staticClass:"btn btn-skeleton btn-lg px-5 py-3"},[a._v("\n          Berikan Rating\n        ")])]),a._v(" "),i("div",{staticClass:"my-5 px-0 py-4 px-md-4"},[i("label",{staticClass:"lead3 skeleton-txt"},[a._v("Rating")]),a._v(" "),i("label",{staticClass:"lead3 skeleton-txt"},[a._v("Ukuran Tersedia")]),a._v(" "),i("p",{staticClass:"skeleton-txt"},[a._v("Small")]),a._v(" "),i("label",{staticClass:"lead3 skeleton-txt"},[a._v("Deskripsi")])])])])}],!1,null,null,null);t.default=n.exports}}]);